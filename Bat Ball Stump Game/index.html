<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body{
           text-align: center; 
        }

    </style>
    <title>basic game </title>
</head>
<body>
   <h1>Bat Ball Stump Game</h1> 
   <button class="bat" onclick=" 
    let computerChoice=generateComputerChoice();
    let resultMsg=getResult('Bat',computerChoice);
    showResult('Bat',computerChoice,resultMsg);

   ">Bat</button>

   <button class="ball" onclick="
     computerChoice=generateComputerChoice();
      resultMsg=getResult('Ball',computerChoice);
      showResult('Ball',computerChoice,resultMsg);
   
   ">Ball</button>
   
   <button class="stump" onclick="
    computerChoice=generateComputerChoice();
   resultMsg=getResult('Stump',computerChoice);
   showResult('Stump',computerChoice,resultMsg);
   
   ">Stump</button>

   <button onclick="localStorage.clear()
   resetScore();
        
   ">Reset</button>
   
   <script>
       let score;
    let  scoreStr=localStorage.getItem('score');
    resetScore(scoreStr);
    function resetScore(scoreStr){
        score= scoreStr ? JSON.parse(scoreStr) :{
        win:0,
        lost:0,
        tie:0,
        };
        score.displayScore= function(){
           return `Won: ${score.win} Lost: ${score.lost} Tie: ${score.tie}`;
        };          
    }
     function generateComputerChoice() {
        let randomNumber= Math.random()*3 
        if(randomNumber>0 && randomNumber<=1){
            return 'Bat';
        }
        else if(randomNumber>1 && randomNumber<=2){
            return 'Ball';
        }
        else{
            return 'Stump';
        }
        return computerChoice;
     }

     function getResult(userMove,computerMove){
        if(userMove==='Bat'){
            if(computerMove === 'Ball'){
                  score.win++;
                 return 'you won';
                 }
             else if(computerMove === 'Bat'){
                 score.tie++;
                 return `it's a tie`; 
                 }
            else{
                 score.lost++;
                 return 'you lost';
                 }
        }
        else if(userMove==='Ball'){
            if(computerMove === 'Stump'){
                score.win++;
                 return 'you won';
                 }
             else if(computerMove === 'Ball'){
                score.tie++;
                 return `it's a tie`; 
                 }
            else{
                score.lost++;
                 return 'you lost';
                 }
        }
        else{
            if(computerMove === 'Ball'){
                score.win++;
                 return 'you won';
                 }
             else if(computerMove === 'Stump'){
                score.tie++;
                 return `it's a tie`; 
                 }
            else{
                 score.lost++;
                 return 'you lost';
                 }
        }
    }
        function showResult(userMove,computerMove,result){
            localStorage.setItem('Score',JSON.stringify(score));
            console.log(score);
            

          alert(`
          you have chosen ${userMove} ,computer choice is ${computerMove}
          ${result}
          ${score.displayScore()}`);
        }

     
   </script>
</body>
</html>